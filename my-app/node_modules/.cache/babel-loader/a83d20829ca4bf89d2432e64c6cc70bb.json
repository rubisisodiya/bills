{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rubi Singh\\\\meanstark\\\\nodeexpress\\\\billing\\\\my-app\\\\src\\\\components\\\\Categories\\\\CategoriesList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getCategoriesList } from '../../actions/category';\nimport CategoryForm from './CategoryForm';\nimport Add from '@material-ui/icons/Add';\nimport Modal from 'react-modal';\nimport modalStyles from '../../config/modalCss';\nimport axios from '../../config/axios';\nimport IconButton from '@material-ui/core/IconButton';\n\nclass CategoriesList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.categoryDelete = e => {\n      // e.preventDefault()\n      console.log(e.target.value);\n      const id = e.target.value; // console.log(id)\n\n      axios.delete(`/categories/${id}`).then(catgeory => {\n        this.props.dispatch(getCategoriesList());\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    this.modalOpen = () => {\n      this.setState({\n        modalIsOpen: true\n      });\n    };\n\n    this.categoryPost = data => {\n      axios.post('/categories', data).then(catgeory => {\n        this.closeModal();\n        this.props.dispatch(getCategoriesList());\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.categoryUpdate = e => {\n      e.preventDefault();\n      this.setState({\n        isEdit: true,\n        category: this.props.categories.find(cat => cat._id === e.target.id)\n      });\n    };\n\n    this.categoryPut = e => {\n      e.preventDefault(); // console.log(this.state.category.name)\n\n      const id = e.target.id;\n      const data = {\n        name: this.state.category.name\n      };\n      axios.put(`/categories/edit/${id}`, data).then(response => {\n        this.setState({\n          category: {}\n        });\n        this.props.dispatch(getCategoriesList());\n      }).catch(err => console.log(err));\n    };\n\n    this.handleChange = e => {\n      e.persist();\n      this.setState(prevState => {\n        return {\n          category: { ...prevState.category,\n            name: e.target.value\n          }\n        };\n      });\n    };\n\n    this.state = {\n      modalIsOpen: false,\n      isEdit: false,\n      category: {}\n    };\n  }\n\n  render() {\n    const {\n      modalIsOpen\n    } = this.state;\n    Modal.setAppElement('#root');\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n      style: modalStyles,\n      isOpen: modalIsOpen // onAfterOpen={this.afterOpenModal}\n      ,\n      onRequestClose: this.closeModal,\n      \"aria-labelledby\": \"Create Category\",\n      \"aria-describedby\": \"simple-modal-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CategoryForm, {\n      categoryPost: this.categoryPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      className: \"tableButton\",\n      onClick: this.modalOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Add, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \"Categories \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, this.props.categories.map((category, index) => {\n      // return <li key={index}> {category.name}</li>\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 32\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          width: \"18rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }\n      }, this.state.category._id === category._id ? /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.category.name,\n        name: \"name\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 77\n        }\n      }) : /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 199\n        }\n      }, category.name), this.state.category._id === category._id ? /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-primary\",\n        id: category._id,\n        onClick: this.categoryPut,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 72\n        }\n      }, \"Update\") : /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-info\",\n        id: category._id,\n        onClick: this.categoryUpdate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 178\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-danger\",\n        value: category._id,\n        onClick: this.categoryDelete,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 29\n        }\n      }, \"Delete\"))));\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categories\n  };\n};\n\nexport default connect(mapStateToProps)(CategoriesList);","map":{"version":3,"sources":["C:/Users/Rubi Singh/meanstark/nodeexpress/billing/my-app/src/components/Categories/CategoriesList.js"],"names":["React","connect","getCategoriesList","CategoryForm","Add","Modal","modalStyles","axios","IconButton","CategoriesList","Component","constructor","props","categoryDelete","e","console","log","target","value","id","delete","then","catgeory","dispatch","catch","err","closeModal","setState","modalIsOpen","modalOpen","categoryPost","data","post","categoryUpdate","preventDefault","isEdit","category","categories","find","cat","_id","categoryPut","name","state","put","response","handleChange","persist","prevState","render","setAppElement","map","index","width","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {connect} from 'react-redux'\nimport {getCategoriesList} from '../../actions/category'\nimport CategoryForm from './CategoryForm'\nimport Add from '@material-ui/icons/Add'\nimport Modal from 'react-modal'\nimport modalStyles from '../../config/modalCss'\nimport axios from '../../config/axios';\nimport IconButton from '@material-ui/core/IconButton';\n\nclass CategoriesList extends React.Component {\n    constructor(props){\n        super(props)\n        this.state= {\n            modalIsOpen: false,\n            isEdit: false,\n            category: {}\n        }\n        \n    }\n    categoryDelete = (e) =>{\n        // e.preventDefault()\n        console.log(e.target.value)\n        const id=e.target.value\n        // console.log(id)\n        axios.delete(`/categories/${id}`)\n        .then(catgeory => {\n            this.props.dispatch(getCategoriesList())\n            \n        })\n        .catch(err =>{\n            console.log(err)\n        })\n    }\n    // componentDidMount(){\n    //     this.props.dispatch(getCategoriesList())\n    // }\n     closeModal = () => {\n        this.setState({modalIsOpen : false})\n    }\n    modalOpen = () =>{\n        this.setState({modalIsOpen : true})\n    }\n    // this.Modal.setAppElement('#root')  \n    categoryPost = (data) =>{\n        axios.post('/categories',data)\n        .then(catgeory => {\n            this.closeModal()\n            this.props.dispatch(getCategoriesList())\n            \n        })\n        .catch(err =>{\n            console.log(err)\n        })\n    }\n    categoryUpdate = e =>{\n        e.preventDefault();\n        this.setState({\n            isEdit: true,\n            category: this.props.categories.find(cat => cat._id === e.target.id)\n        })\n    }\n    categoryPut= e =>{\n        e.preventDefault()\n        // console.log(this.state.category.name)\n        const id = e.target.id\n        const data = {\n            name:this.state.category.name\n        }\n        axios.put(`/categories/edit/${id}`,data)\n        .then(response=>{\n            this.setState({\n                category: {}\n            })\n            this.props.dispatch(getCategoriesList())\n        }).catch(err=>console.log(err))\n    }\n    handleChange= e =>{\n        e.persist()\n        this.setState((prevState) => {\n           return{ category: {\n               ...prevState.category,\n                name: e.target.value\n             }\n            }\n        })\n    }\n    \n\n    render(){\n       const {modalIsOpen} = this.state\n       Modal.setAppElement('#root') \n        return (\n            <>\n            \n            <Modal \n                style={modalStyles}\n                isOpen={modalIsOpen}\n                // onAfterOpen={this.afterOpenModal}\n                onRequestClose={this.closeModal}\n                aria-labelledby=\"Create Category\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <CategoryForm categoryPost={this.categoryPost}/>\n            </Modal>\n            <IconButton className='tableButton' onClick={this.modalOpen}>\n                <Add />\n            </IconButton>\n                <h3>Categories </h3>\n                <div className=\"row\">\n\n                \n                    {this.props.categories.map((category,index) => {\n                        // return <li key={index}> {category.name}</li>\n                        return <div key={index}> \n                            <div className=\"card\" style={{width: \"18rem\"}}>\n                            <div className=\"card-body\">\n                                {this.state.category._id === category._id ? <input type=\"text\" className=\"form-control\" value={this.state.category.name} name=\"name\" onChange={this.handleChange}/> : <h5 className=\"card-title\">{category.name}</h5> \n                                }\n                            {this.state.category._id === category._id ?<button className=\"btn btn-sm btn-primary\" id={category._id} onClick={this.categoryPut}>Update</button> : <button className=\"btn btn-sm btn-info\" id={category._id} onClick={this.categoryUpdate} >Edit</button>}\n                            <button className=\"btn btn-sm btn-danger\" value={category._id} onClick={this.categoryDelete}>Delete</button>\n                            </div>\n                            </div>\n                        </div>\n                    })}\n                    </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        categories: state.categories\n    }\n}\n\nexport default connect(mapStateToProps)(CategoriesList)"]},"metadata":{},"sourceType":"module"}