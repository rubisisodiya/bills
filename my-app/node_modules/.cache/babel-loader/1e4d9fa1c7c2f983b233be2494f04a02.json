{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rubi Singh\\\\meanstark\\\\nodeexpress\\\\billing\\\\my-app\\\\src\\\\components\\\\Stocks\\\\stockList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getStocksList } from '../../actions/stock';\nimport { startListProducts } from '../../actions/product'; // import List from '@material-ui/core/List';\n// import ListItem from '@material-ui/core/ListItem';\n// import ListItemText from '@material-ui/core/ListItemText';\n// import Divider from '@material-ui/core/Divider';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Edit from '@material-ui/icons/Edit';\nimport StockForm from './StockForm';\nimport Swal from 'sweetalert2';\nimport axios from '../../config/axios';\n\nclass StocksList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.edit = id => {\n      this.setState({\n        stock: this.props.stocks.find(stock => stock._id === id)\n      });\n    };\n\n    this.updateStock = data => {\n      console.log(data);\n      axios.put(`/stocks/edit/${data._id}`, data, {\n        headers: {\n          'x-auth': localStorage.getItem('authToken')\n        }\n      }).then(res => {\n        if (res.data.errors) {\n          Swal.fire({\n            type: 'error',\n            text: \"Check the fileds\"\n          });\n        } else {\n          this.setState({\n            stock: {}\n          });\n          this.props.dispatch(getStocksList());\n        }\n      }).catch(err => {\n        Swal.fire({\n          type: 'error',\n          text: err\n        });\n      });\n    };\n\n    this.state = {\n      stock: {}\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getStocksList());\n    this.props.dispatch(startListProducts());\n  }\n\n  render() {\n    const {\n      stocks,\n      products\n    } = this.props;\n    console.log(stocks, '<---stock', products);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, \"Stocks \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, stocks.length > 0 && stocks.map((stock, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 32\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          width: \"18rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      }, stock.product.name, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        className: \"tableButton\",\n        onClick: () => this.edit(stock._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Edit, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 37\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, this.state.stock._id === stock._id ? /*#__PURE__*/React.createElement(StockForm, {\n        stockPut: this.updateStock,\n        stocks: stocks,\n        quantity: stock.quantity,\n        stockPrice: stock.stockPrice,\n        _id: stock._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 70\n        }\n      }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 37\n        }\n      }, \"Quantity:  \", stock.quantity), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 37\n        }\n      }, \"Price:  \", stock.stockPrice))))));\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    stocks: state.stocks,\n    products: state.products\n  };\n};\n\nexport default connect(mapStateToProps)(StocksList);","map":{"version":3,"sources":["C:/Users/Rubi Singh/meanstark/nodeexpress/billing/my-app/src/components/Stocks/stockList.js"],"names":["React","connect","getStocksList","startListProducts","IconButton","Edit","StockForm","Swal","axios","StocksList","Component","constructor","props","edit","id","setState","stock","stocks","find","_id","updateStock","data","console","log","put","headers","localStorage","getItem","then","res","errors","fire","type","text","dispatch","catch","err","state","componentDidMount","render","products","length","map","index","width","product","name","quantity","stockPrice","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {connect} from 'react-redux'\nimport {getStocksList} from '../../actions/stock'\nimport { startListProducts } from '../../actions/product'\n// import List from '@material-ui/core/List';\n// import ListItem from '@material-ui/core/ListItem';\n// import ListItemText from '@material-ui/core/ListItemText';\n// import Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Edit from '@material-ui/icons/Edit'\nimport StockForm from './StockForm'\nimport Swal from 'sweetalert2'\nimport axios from '../../config/axios';\n\nclass StocksList extends React.Component {\n    constructor(props){\n        super(props)\n        this.state= {\n            stock: {}\n        }\n        \n    }\n    componentDidMount(){\n        this.props.dispatch(getStocksList())\n        this.props.dispatch(startListProducts())\n    }\n    edit = (id) =>{\n        this.setState({\n            stock: this.props.stocks.find(stock => stock._id === id)\n        })\n    }\n    updateStock = (data)=>{\n        console.log(data)\n        axios.put(`/stocks/edit/${data._id}`,data,{\n            headers: {\n                'x-auth': localStorage.getItem('authToken')\n            }\n        })\n        .then(res => {\n            if(res.data.errors){\n                Swal.fire({\n                    type: 'error',\n                    text: \"Check the fileds\"\n                })\n            }else{\n                this.setState({stock: {}})\n                this.props.dispatch(getStocksList())\n\n            }\n        })\n        .catch(err => {\n            Swal.fire({\n                type: 'error',\n                text: err\n            })\n        })\n    }\n    render(){\n        const { stocks, products } = this.props;\n        console.log(stocks,'<---stock',products)\n        return (\n            <>\n                <h3>Stocks </h3>\n                <div className=\"row\">\n                    {stocks.length>0 && stocks.map((stock,index) => {\n                        return <div key={index}> \n                            <div className=\"card\" style={{width: \"18rem\"}}>\n                            <div className=\"card-body\">\n                            <h5 className=\"card-title\">\n                                {stock.product.name} \n                                <span>\n                                <IconButton className='tableButton' onClick={()=>this.edit(stock._id)}>\n                                    <Edit />\n                                </IconButton>\n                                </span>\n                            </h5>\n                            <div>\n                                {this.state.stock._id === stock._id ?<StockForm stockPut={this.updateStock} stocks={stocks} quantity={stock.quantity} stockPrice={stock.stockPrice} _id={stock._id}/> :\n                                <>\n                                    <p>Quantity:  {stock.quantity}</p>\n                                    <p>Price:  {stock.stockPrice}</p>\n                                </>\n                                }\n                            </div>\n                            </div>\n                            </div>\n                        </div>\n                    })}\n                    </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        stocks: state.stocks,\n        products: state.products\n    }\n}\n\nexport default connect(mapStateToProps)(StocksList)"]},"metadata":{},"sourceType":"module"}