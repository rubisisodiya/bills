{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rubi Singh\\\\meanstark\\\\nodeexpress\\\\billing\\\\my-app\\\\src\\\\components\\\\Expenses\\\\expense-form.js\";\nimport React from 'react';\nimport { connect } from 'react-redux'; // import axios from '../../config/axios';\n\nimport { startAddExpenditureType } from '../../actions/expenditureType';\nimport { startAddExpenditure } from '../../actions/expenses';\n\nclass ExpenseForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      // e.persist()\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.expenditureTypeChange = e => {\n      let isOpen = false;\n      const value = e.target.value;\n\n      if (value === \"others\") {\n        isOpen = true;\n      } else {\n        isOpen = false;\n      }\n\n      this.setState(prevState => {\n        return {\n          isaddExpenditureTypeOpen: isOpen,\n          expenditureType: value\n        };\n      });\n    };\n\n    this.addToPurchaseList = e => {\n      e.preventDefault();\n\n      if (this.state._id) {\n        this.setState(prevState => {\n          return {\n            products: [...prevState.products, {\n              _id: this.state._id,\n              price: this.state.price,\n              quantity: this.state.quantity,\n              name: this.state.name\n            }],\n            _id: \"\",\n            price: \"\",\n            quantity: \"\",\n            total: Number(prevState.total) + Number(this.state.price) * Number(this.state.quantity),\n            totalAmount: Number(prevState.total) + Number(this.state.price) * Number(this.state.quantity)\n          };\n        });\n      }\n    };\n\n    this.expenditureTypePost = () => {\n      const data = {\n        name: this.state.addExpenditure\n      };\n      this.props.dispatch(startAddExpenditureType(data));\n      this.setState(prevState => {\n        return {\n          isaddExpenditureTypeOpen: false,\n          expenditureType: \"\",\n          addExpenditure: \"\"\n        };\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        date,\n        details,\n        price,\n        paymentDetails,\n        payMode,\n        expenditureType\n      } = this.state;\n      const data = {\n        date,\n        details,\n        payMode,\n        paymentDetails,\n        price,\n        expenditureType\n      };\n      this.props.dispatch(startAddExpenditure(data));\n      this.setState({\n        date: '',\n        payMode: \"\",\n        price: \"\",\n        paymentDetails: \"\",\n        details: \"\",\n        isaddExpenditureTypeOpen: false,\n        expenditureType: \"\",\n        addExpenditure: \"\"\n      });\n    };\n\n    this.taxBlur = e => {\n      const amount = this.state.products.map(p => p.price * p.quantity).reduce((a, b) => {\n        return a + b;\n      }, 0);\n      this.setState(prevState => {\n        return {\n          total: Number(amount) + Number(amount) * Number(this.state.tax) / 100,\n          totalAmount: Number(amount) + Number(amount) * Number(this.state.tax) / 100\n        };\n      });\n    };\n\n    this.discountBlur = e => {\n      this.setState(prevState => {\n        return {\n          totalAmount: Number(prevState.totalAmount) - Number(prevState.total) * Number(prevState.discount) / 100\n        };\n      });\n    };\n\n    this.otherChargesBlur = e => {\n      this.setState(prevState => {\n        return {\n          totalAmount: Number(prevState.totalAmount) + Number(prevState.otherCharges)\n        };\n      });\n    };\n\n    this.state = {\n      products: [],\n      _id: \"\",\n      name: \"\",\n      price: \"\",\n      quantity: \"\",\n      date: '',\n      dealer: \"\",\n      invoice: `EXPO-INVOICE`,\n      total: '',\n      discount: \"\",\n      tax: \"\",\n      otherCharges: \"\",\n      payMode: \"\",\n      totalAmount: \"\",\n      paymentDetails: \"\",\n      details: \"\",\n      isaddExpenditureTypeOpen: false,\n      expenditureType: \"\",\n      addExpenditure: \"\"\n    };\n  }\n\n  render() {\n    console.log('cat', this.props.expenditureType);\n    const {\n      price,\n      expenditureType,\n      addExpenditure,\n      paymentDetails,\n      details,\n      payMode,\n      date\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, \"Add Expenses\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      placeholder: \"Expenditure Type\",\n      name: \"_id\",\n      value: expenditureType,\n      onChange: this.expenditureTypeChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 27\n      }\n    }, \"Select Expenditure Type\"), this.props.expenditureType.map((expenditureType, index) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: expenditureType._id,\n        value: expenditureType._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 40\n        }\n      }, expenditureType.name);\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"others\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 29\n      }\n    }, \"Others\"))), this.state.isaddExpenditureTypeOpen ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, \"\\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        'marginTop': \"-20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"addExpenditure\",\n      placeholder: \"Add Expenditure type\",\n      type: \"text\",\n      value: addExpenditure,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        'marginTop': \"-20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-info\",\n      onClick: this.expenditureTypePost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }\n    }, \"Add Expenditure Type\")))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"date\",\n      placeholder: \"Date\",\n      type: \"date\",\n      value: date,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"payMode\",\n      placeholder: \"Pay Mode\",\n      value: payMode,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 33\n      }\n    }, \"Select Pay Mode\"), ['Net-Banking', 'Cash', 'UPI', 'Cheque'].map(pay => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: pay,\n        value: pay,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 44\n        }\n      }, pay);\n    })))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      name: \"details\",\n      placeholder: \" Details\",\n      type: \"text\",\n      value: details,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      name: \"paymentDetails\",\n      placeholder: \"Payment Details\",\n      type: \"text\",\n      value: paymentDetails,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"price\",\n      placeholder: \"Price\",\n      type: \"Number\",\n      value: price,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        'marginTop': \"-20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    expenses: state.expenses,\n    expenditureType: state.expenditureTypes\n  };\n};\n\nexport default connect(mapStateToProps)(ExpenseForm);","map":{"version":3,"sources":["C:/Users/Rubi Singh/meanstark/nodeexpress/billing/my-app/src/components/Expenses/expense-form.js"],"names":["React","connect","startAddExpenditureType","startAddExpenditure","ExpenseForm","Component","constructor","props","handleChange","e","setState","target","name","value","expenditureTypeChange","isOpen","prevState","isaddExpenditureTypeOpen","expenditureType","addToPurchaseList","preventDefault","state","_id","products","price","quantity","total","Number","totalAmount","expenditureTypePost","data","addExpenditure","dispatch","handleSubmit","date","details","paymentDetails","payMode","taxBlur","amount","map","p","reduce","a","b","tax","discountBlur","discount","otherChargesBlur","otherCharges","dealer","invoice","render","console","log","index","pay","mapStateToProps","expenses","expenditureTypes"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {connect} from 'react-redux'\n// import axios from '../../config/axios';\nimport {startAddExpenditureType} from '../../actions/expenditureType'\nimport {startAddExpenditure} from '../../actions/expenses'\n\nclass ExpenseForm extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            products: [],\n            _id: \"\",\n            name: \"\",\n            price: \"\",\n            quantity: \"\",\n            date: '',\n            dealer: \"\",\n            invoice: `EXPO-INVOICE`,\n            total: '',\n            discount: \"\",\n            tax: \"\",\n            otherCharges: \"\",\n            payMode: \"\",\n            totalAmount: \"\",\n            paymentDetails: \"\",\n            details: \"\",\n            isaddExpenditureTypeOpen: false,\n            expenditureType: \"\",\n            addExpenditure: \"\"\n        }\n    }\n    \n    handleChange= (e) => {\n        // e.persist()\n        this.setState({\n            [e.target.name] : e.target.value\n        })\n    }\n    expenditureTypeChange = e =>{\n        let isOpen = false;\n        const value = e.target.value;\n    if (value === \"others\") {\n        isOpen = true\n    } else {\n        isOpen = false\n    }\n        this.setState((prevState)=>{\n            return {\n                isaddExpenditureTypeOpen: isOpen,\n                expenditureType: value\n            }\n        })\n\n    }\n    addToPurchaseList = e =>{\n        e.preventDefault()\n        if(this.state._id){\n            this.setState((prevState) => {\n                return{\n                    products: [...prevState.products, {_id: this.state._id,price: this.state.price, quantity: this.state.quantity,name: this.state.name}],\n                    _id: \"\",\n                    price: \"\",\n                    quantity: \"\",\n                    total: Number(prevState.total) + (Number(this.state.price) * Number(this.state.quantity)),\n                    totalAmount: Number(prevState.total) + (Number(this.state.price) * Number(this.state.quantity))\n                }\n            })\n        }\n    }\n    expenditureTypePost = () =>{\n        const data = {\n            name: this.state.addExpenditure\n        }\n        this.props.dispatch(startAddExpenditureType(data))\n        this.setState((prevState)=>{\n            return {\n                isaddExpenditureTypeOpen: false,\n                expenditureType: \"\",\n                addExpenditure: \"\"\n            }\n        })\n    }\n    handleSubmit=(e) => {\n        e.preventDefault()\n        const {date,details,price,paymentDetails,payMode,expenditureType} = this.state\n        const data = {\n            date,\n            details,\n            payMode,\n            paymentDetails,\n            price,\n            expenditureType\n        }\n        this.props.dispatch(startAddExpenditure(data))\n        this.setState({\n            date: '',\n            payMode: \"\",\n            price: \"\",\n            paymentDetails: \"\",\n            details: \"\",\n            isaddExpenditureTypeOpen: false,\n            expenditureType: \"\",\n            addExpenditure: \"\"\n        })\n    }\n    taxBlur= (e)=>{\n        const amount= this.state.products.map(p => p.price*p.quantity).reduce((a,b)=> {return a+b},0)\n        this.setState((prevState)=> {\n            return {total: Number(amount) + Number(amount) * Number(this.state.tax) /100, \n                totalAmount: Number(amount) + Number(amount) * Number(this.state.tax) /100\n            }\n        })\n    }\n    discountBlur = (e)=>{\n        this.setState((prevState)=>{\n            return {\n                totalAmount: Number(prevState.totalAmount) - Number(prevState.total) * Number(prevState.discount) / 100 \n            }\n        })\n    }\n    otherChargesBlur = e =>{\n        this.setState((prevState)=>{\n            return {\n                totalAmount: Number(prevState.totalAmount) + Number(prevState.otherCharges)\n            }\n        })\n    }\n    render(){\n        console.log('cat',this.props.expenditureType);\n        const {price,expenditureType,addExpenditure,paymentDetails,details,payMode,date} = this.state\n        return (\n            <>  \n            <h2>Add Expenses</h2>\n            <form onSubmit={this.handleSubmit}>\n                \n                    <div className=\"form-row\">\n                        <div className=\"col\">\n                            <select className=\"form-control\" placeholder=\"Expenditure Type\" name=\"_id\"   value={expenditureType} onChange={this.expenditureTypeChange}\n                        > <option value=\"\">Select Expenditure Type</option>\n                            {this.props.expenditureType.map((expenditureType,index) => {\n                                return <option key={expenditureType._id} value={expenditureType._id}>{expenditureType.name}</option>\n                            })}\n                            <option value=\"others\">Others</option>\n                        </select>\n                        </div>\n                        { this.state.isaddExpenditureTypeOpen ? \n                        <div  className=\"col\">\n                            &nbsp;\n                            <div  className=\"row\" style={{'marginTop': \"-20px\"}}>\n                                <div className=\"col\">  \n                                    <input className=\"form-control\" name=\"addExpenditure\" placeholder=\"Add Expenditure type\" type=\"text\" value={addExpenditure} onChange={this.handleChange}\n                                    />\n                                </div>\n                                <div className=\"col\" style={{'marginTop': \"-20px\"}}>\n                                    <button className=\"btn btn-sm btn-info\"  onClick={this.expenditureTypePost}\n                                    >Add Expenditure Type</button>\n                                </div>\n                            </div>\n                        </div>\n                        : \n                            <div className=\"col\">\n                            </div>\n                        }\n                    </div>\n                    {/* <Add onClick={this.addProduct}/> */}\n                    <br />\n                    <div className=\"form-row\">\n                        <div className=\"col\">\n                            <input className=\"form-control\" name=\"date\" placeholder=\"Date\" type=\"date\" value={date} onChange={this.handleChange}\n                            />\n                        </div>\n                        <div className=\"col\">\n                            <select className=\"form-control\" name=\"payMode\" placeholder=\"Pay Mode\" value={payMode} onChange={this.handleChange}\n                            >\n                                <option>Select Pay Mode</option>\n                                {['Net-Banking','Cash','UPI','Cheque'].map((pay)=>{\n                                    return <option key={pay} value={pay}>{pay}</option>\n                                })}\n                            </select>\n                        </div>\n                    </div>\n                    <br/>\n                    <div className=\"form-row\">\n                    <div className=\"col\">\n                            <textarea className=\"form-control\" name=\"details\" placeholder=\" Details\" type=\"text\" value={details} onChange={this.handleChange}\n                            />\n                        </div>\n                        <div className=\"col\">\n                            <textarea className=\"form-control\" name=\"paymentDetails\" placeholder=\"Payment Details\" type=\"text\" value={paymentDetails} onChange={this.handleChange}\n                            />\n                        </div>\n                    </div>\n                    <br/>\n                    <div className=\"form-row\">\n                        <div className=\"col\">  \n                        <input className=\"form-control\" name=\"price\" placeholder=\"Price\" type=\"Number\" value={price}onChange={this.handleChange}\n                        />\n                        </div>\n                        <div className=\"col\" style={{'marginTop': \"-20px\"}}>\n                            <button className=\"btn btn-primary\" >Submit</button>\n                        </div>\n                        <div className=\"col\">\n                        </div>\n                    </div>\n            </form>\n            </>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        expenses: state.expenses,\n        expenditureType: state.expenditureTypes\n    }\n}\n\nexport default connect(mapStateToProps)(ExpenseForm)"]},"metadata":{},"sourceType":"module"}