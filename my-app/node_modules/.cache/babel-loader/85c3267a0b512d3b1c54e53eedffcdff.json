{"ast":null,"code":"import axios from '../config/axios';\nimport Swal from 'sweetalert2';\nimport { UpdateStockQtySell } from './stock';\n\nconst getBill = bills => {\n  return {\n    type: 'BILLS_LIST',\n    payload: bills\n  };\n};\n\nconst addBill = bill => {\n  return {\n    type: \"ADD_BILL\",\n    payload: bill\n  };\n};\n\nexport const getBillsList = () => {\n  return dispatch => {\n    axios.get('/bills').then(response => {\n      // console.log(response)\n      if (response.data) {\n        dispatch(getBill(response.data));\n      }\n    }).catch(err => {\n      console.log('error bills', err); // history.push('/')\n    });\n  };\n};\nexport const startAddBill = (data, regEnable) => {\n  return dispatch => {\n    axios.post('/bills', data).then(response => {\n      // console.log(response)\n      if (response.data.errors) {\n        Swal.fire({\n          type: 'info',\n          text: \"Check the fileds\"\n        });\n      } else {\n        const bill = response.data;\n        dispatch(addBill(bill));\n        regEnable();\n        bill.products.map(product => {\n          const data = {};\n          data.quantity = product.quantity;\n          dispatch(UpdateStockQtySell(product.stock, data));\n          return null;\n        });\n      }\n    }).catch(err => {\n      Swal.fire({\n        type: 'error',\n        text: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Rubi Singh/meanstark/nodeexpress/billing/my-app/src/actions/bill.js"],"names":["axios","Swal","UpdateStockQtySell","getBill","bills","type","payload","addBill","bill","getBillsList","dispatch","get","then","response","data","catch","err","console","log","startAddBill","regEnable","post","errors","fire","text","products","map","product","quantity","stock"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAASC,kBAAT,QAAmC,SAAnC;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AACvB,SAAO;AACHC,IAAAA,IAAI,EAAE,YADH;AACiBC,IAAAA,OAAO,EAAEF;AAD1B,GAAP;AAGH,CAJD;;AAKA,MAAMG,OAAO,GAAEC,IAAD,IAAQ;AAClB,SAAO;AACHH,IAAAA,IAAI,EAAE,UADH;AACeC,IAAAA,OAAO,EAAEE;AADxB,GAAP;AAGH,CAJD;;AAKA,OAAO,MAAMC,YAAY,GAAG,MAAM;AAC9B,SAAQC,QAAD,IAAc;AACjBV,IAAAA,KAAK,CAACW,GAAN,CAAU,QAAV,EACKC,IADL,CACUC,QAAQ,IAAI;AACd;AACA,UAAIA,QAAQ,CAACC,IAAb,EAAmB;AACfJ,QAAAA,QAAQ,CAACP,OAAO,CAACU,QAAQ,CAACC,IAAV,CAAR,CAAR;AACH;AACJ,KANL,EAOKC,KAPL,CAOWC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,GAA3B,EADU,CAEV;AACH,KAVL;AAWH,GAZD;AAaH,CAdM;AAeP,OAAO,MAAMG,YAAY,GAAG,CAACL,IAAD,EAAMM,SAAN,KAAoB;AAC5C,SAAQV,QAAD,IAAc;AACjBV,IAAAA,KAAK,CAACqB,IAAN,CAAW,QAAX,EAAoBP,IAApB,EACKF,IADL,CACUC,QAAQ,IAAI;AACd;AACA,UAAGA,QAAQ,CAACC,IAAT,CAAcQ,MAAjB,EAAwB;AACpBrB,QAAAA,IAAI,CAACsB,IAAL,CAAU;AACNlB,UAAAA,IAAI,EAAE,MADA;AAENmB,UAAAA,IAAI,EAAE;AAFA,SAAV;AAIH,OALD,MAKK;AACD,cAAMhB,IAAI,GAAGK,QAAQ,CAACC,IAAtB;AACAJ,QAAAA,QAAQ,CAACH,OAAO,CAACC,IAAD,CAAR,CAAR;AACAY,QAAAA,SAAS;AACTZ,QAAAA,IAAI,CAACiB,QAAL,CAAcC,GAAd,CAAmBC,OAAO,IAAI;AAC1B,gBAAMb,IAAI,GAAG,EAAb;AACAA,UAAAA,IAAI,CAACc,QAAL,GAAgBD,OAAO,CAACC,QAAxB;AACAlB,UAAAA,QAAQ,CAACR,kBAAkB,CAACyB,OAAO,CAACE,KAAT,EAAgBf,IAAhB,CAAnB,CAAR;AACA,iBAAO,IAAP;AACH,SALD;AAOH;AACJ,KApBL,EAqBKC,KArBL,CAqBWC,GAAG,IAAI;AACVf,MAAAA,IAAI,CAACsB,IAAL,CAAU;AACNlB,QAAAA,IAAI,EAAE,OADA;AAENmB,QAAAA,IAAI,EAAER;AAFA,OAAV;AAIH,KA1BL;AA2BH,GA5BD;AA6BH,CA9BM","sourcesContent":["import axios from '../config/axios'\nimport Swal from 'sweetalert2'\nimport { UpdateStockQtySell } from './stock'\n\nconst getBill = (bills) => {\n    return {\n        type: 'BILLS_LIST', payload: bills\n    }\n}\nconst addBill=(bill)=>{\n    return {\n        type: \"ADD_BILL\", payload: bill\n    }\n}\nexport const getBillsList = () => {\n    return (dispatch) => {\n        axios.get('/bills')\n            .then(response => {\n                // console.log(response)\n                if (response.data) {\n                    dispatch(getBill(response.data))\n                }\n            })\n            .catch(err => {\n                console.log('error bills', err)\n                // history.push('/')\n            })\n    }\n}\nexport const startAddBill = (data,regEnable) => {\n    return (dispatch) => {\n        axios.post('/bills',data)\n            .then(response => {\n                // console.log(response)\n                if(response.data.errors){\n                    Swal.fire({\n                        type: 'info',\n                        text: \"Check the fileds\"\n                    })\n                }else{\n                    const bill = response.data;\n                    dispatch(addBill(bill))\n                    regEnable()\n                    bill.products.map( product => {\n                        const data = {};\n                        data.quantity = product.quantity;\n                        dispatch(UpdateStockQtySell(product.stock, data))\n                        return null\n                    })\n    \n                }\n            })\n            .catch(err => {\n                Swal.fire({\n                    type: 'error',\n                    text: err\n                })\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}