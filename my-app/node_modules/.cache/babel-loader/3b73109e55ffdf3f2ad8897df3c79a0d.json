{"ast":null,"code":"import axios from '../config/axios';\nimport Swal from 'sweetalert2';\nconst getToken = localStorage.getItem('authToken');\n\nconst getDealers = deal => {\n  return {\n    type: 'DEALERS_LIST',\n    payload: deal\n  };\n};\n\nconst addDealer = data => {\n  return {\n    type: 'ADD_DEALER',\n    payload: data\n  };\n};\n\nconst updateDealer = deal => {\n  return {\n    type: 'UPDATE_DEALER',\n    payload: deal\n  };\n};\n\nconst removeDealer = id => {\n  return {\n    type: 'REMOVE_DEALER',\n    payload: id\n  };\n};\n\nexport const startListDealers = () => {\n  return dispatch => {\n    axios.get('/dealers').then(response => {\n      //console.log(response)\n      if (response.data) {\n        dispatch(getDealers(response.data));\n      }\n    }).catch(err => {\n      console.log('error dealers', err);\n    });\n  };\n};\nexport const startAddDealer = data => {\n  return dispatch => {\n    axios.post(`/dealers`, data, {\n      headers: {\n        'x-auth': getToken\n      }\n    }).then(res => {\n      if (res.data.errors) {\n        Swal.fire({\n          type: 'error',\n          text: \"Check the fields\"\n        });\n      } else {\n        const deal = res.data;\n        dispatch(addDealer(deal)); //console.log('CUS-ADDED', deal)\n      }\n    }).catch(err => {\n      Swal.fire({\n        type: 'error',\n        text: err\n      });\n    });\n  };\n};\nexport const startUpdateDealer = (id, data) => {\n  return dispatch => {\n    axios.put(`/dealers/edit/${id}`, data, {\n      headers: {\n        'x-auth': localStorage.getItem('authToken')\n      }\n    }).then(res => {\n      if (res.data.errors) {\n        Swal.fire({\n          type: 'error',\n          text: \"Check the fields\"\n        });\n      } else {\n        //console.log(res.data,'UPT-CUS')\n        const upCus = res.data;\n        dispatch(updateDealer(upCus));\n      }\n    }).catch(err => {\n      Swal.fire({\n        type: 'error',\n        text: err\n      });\n    });\n  };\n};\nexport const startRemoveDealer = id => {\n  return dispatch => {\n    axios.delete(`/dealers/${id}`, {\n      headers: {\n        'x-auth': localStorage.getItem('authToken')\n      }\n    }).then(res => {\n      //console.log(res, 'DEL-CUS')\n      dispatch(removeDealer(res.data._id));\n    }).catch(err => {\n      Swal.fire({\n        type: 'error',\n        text: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Rubi Singh/meanstark/nodeexpress/billing/my-app/src/actions/dealer.js"],"names":["axios","Swal","getToken","localStorage","getItem","getDealers","deal","type","payload","addDealer","data","updateDealer","removeDealer","id","startListDealers","dispatch","get","then","response","catch","err","console","log","startAddDealer","post","headers","res","errors","fire","text","startUpdateDealer","put","upCus","startRemoveDealer","delete","_id"],"mappings":"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","sourcesContent":["import axios from '../config/axios'\nimport Swal from 'sweetalert2'\nconst getToken = localStorage.getItem('authToken')\n\nconst getDealers = (deal) => {\n    return {\n        type: 'DEALERS_LIST', payload: deal\n    }\n}\nconst addDealer = (data)=>{\n    return {\n        type: 'ADD_DEALER',payload: data\n    }\n}\n\nconst updateDealer = (deal)=>{\n    return {\n        type: 'UPDATE_DEALER',payload: deal\n    }\n}\n\nconst removeDealer = (id)=>{\n    return {\n        type: 'REMOVE_DEALER',payload: id\n    }\n}\n\n\nexport const startListDealers = () => {\n    return (dispatch) => {\n        axios.get('/dealers')\n            .then(response => {\n                //console.log(response)\n                if (response.data) {\n                    dispatch(getDealers(response.data))\n                }\n            })\n            .catch(err => {\n                console.log('error dealers', err)\n            })\n    }\n}\n\nexport const startAddDealer = (data) => {\n    return (dispatch) => {\n        axios.post(`/dealers`,data,{\n            headers: {\n                'x-auth': getToken\n            }\n        })\n        .then(res => {\n            if(res.data.errors){\n                Swal.fire({\n                    type: 'error',\n                    text: \"Check the fields\"\n                })\n            }else{\n                const deal = res.data;\n                dispatch(addDealer(deal))\n                //console.log('CUS-ADDED', deal)\n            }\n        })\n        .catch(err => {\n            Swal.fire({\n                type: 'error',\n                text: err\n            })\n            \n        })\n    }\n}\n\nexport const startUpdateDealer = (id,data) => {\n    return (dispatch) => {\n        axios.put(`/dealers/edit/${id}`,data,{\n            headers: {\n                'x-auth': localStorage.getItem('authToken')\n            }\n        })\n        .then(res => {\n            if(res.data.errors){\n                Swal.fire({\n                    type: 'error',\n                    text: \"Check the fields\"\n                })\n            }else{\n                //console.log(res.data,'UPT-CUS')\n                const upCus = res.data\n                dispatch(updateDealer(upCus))\n            }\n        })\n        .catch(err => {\n            Swal.fire({\n                type: 'error',\n                text: err\n            })\n        })\n    }\n}\n\nexport const startRemoveDealer = (id) => {\n    return (dispatch) => {\n        axios.delete(`/dealers/${id}`,{\n            headers: {\n                'x-auth': localStorage.getItem('authToken')\n            }\n        })\n        .then(res => {\n            //console.log(res, 'DEL-CUS')\n            dispatch(removeDealer(res.data._id))\n        })\n        .catch(err => {\n            Swal.fire({\n                type: 'error',\n                text: err\n            })\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}