{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rubi Singh\\\\meanstark\\\\nodeexpress\\\\billing\\\\my-app\\\\src\\\\components\\\\Bills\\\\showBill.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getBillsList } from '../../actions/bill';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport html2pdf from 'html2pdf.js';\n\nfunction Tabular(props) {\n  const {\n    data\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    border: \"1\",\n    style: {\n      borderCollapse: 'collapse'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 25\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 25\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 25\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 25\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 25\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 25\n    }\n  }, \"total\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }\n  }, data.map((product, i) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 29\n      }\n    }, i + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 29\n      }\n    }, product.product.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 29\n      }\n    }, product.product.description), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 29\n      }\n    }, product.quantity), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 29\n      }\n    }, product.price), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 29\n      }\n    }, product.price * product.quantity));\n  }))));\n}\n\nfunction printPageArea(areaID) {\n  var printContent = document.getElementById(areaID);\n  var WinPrint = window.open('', '', 'width=900,height=650');\n  WinPrint.document.write(printContent.innerHTML);\n  WinPrint.document.close();\n  WinPrint.focus();\n  WinPrint.print();\n  setTimeout(() => {\n    WinPrint.close();\n  }, 2000);\n}\n\nfunction downloadAsPdf(areaID, id) {\n  var printContent = document.getElementById(areaID);\n  var opt = {\n    margin: 1,\n    filename: `invoice-${id}.pdf`,\n    image: {\n      type: 'jpeg',\n      quality: 1\n    },\n    html2canvas: {\n      scale: 4\n    },\n    jsPDF: {\n      unit: 'cm',\n      format: 'A4',\n      orientation: 'portrait'\n    }\n  };\n  html2pdf().set(opt).from(printContent).save();\n}\n\nclass BillShow extends React.Component {\n  componentDidMount() {\n    this.props.dispatch(getBillsList());\n  }\n\n  render() {\n    //console.log(this.props.bill)\n    const bill = this.props.bill;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, \"Bills Info\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      id: \"bill\",\n      style: {\n        marginLeft: '50px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, bill && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"u\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }, bill.billId, \" - \", moment(bill.date).format('LLL'))), bill.customer && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billTo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 31\n      }\n    }, \"To: \", bill.customer.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 31\n      }\n    }, \"email: \", bill.customer.email), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 31\n      }\n    }, \"Phone: \", bill.customer.phone), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 31\n      }\n    }, \"Address: \", bill.customer.address)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 27\n      }\n    }, \" Description - \", bill.description), /*#__PURE__*/React.createElement(Tabular, {\n      data: bill.products,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detailContain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, \"tax: \", bill.tax, \"% \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, \"Other charges: \", bill.otherCharges, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, \"Total: \", bill.total, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, \"discount: \", bill.discount, \"% \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, \"payMode: \", bill.payMode, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontWeight: 'bold',\n        fontSize: 'medium'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"em\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 78\n      }\n    }, \"Grand Total:\"), \" \", bill.totalAmount))))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        printPageArea('bill');\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Print\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        downloadAsPdf('bill', bill.billId);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \"Download as pdf\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/invoices\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, \"Back\"));\n  }\n\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    bill: state.bills.find(b => b._id === props.match.params.id)\n  };\n};\n\nexport default connect(mapStateToProps)(BillShow);","map":{"version":3,"sources":["C:/Users/Rubi Singh/meanstark/nodeexpress/billing/my-app/src/components/Bills/showBill.js"],"names":["React","connect","getBillsList","moment","Link","html2pdf","Tabular","props","data","borderCollapse","map","product","i","name","description","quantity","price","printPageArea","areaID","printContent","document","getElementById","WinPrint","window","open","write","innerHTML","close","focus","print","setTimeout","downloadAsPdf","id","opt","margin","filename","image","type","quality","html2canvas","scale","jsPDF","unit","format","orientation","set","from","save","BillShow","Component","componentDidMount","dispatch","render","bill","marginLeft","billId","date","customer","email","phone","address","products","tax","otherCharges","total","discount","payMode","fontWeight","fontSize","totalAmount","mapStateToProps","state","bills","find","b","_id","match","params"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {connect} from 'react-redux'\nimport {getBillsList} from '../../actions/bill'\nimport moment from 'moment'\nimport { Link } from 'react-router-dom'\nimport html2pdf from 'html2pdf.js'\n\nfunction Tabular(props){\n    const { data } = props\n    return (\n        <div>\n            <table border='1' style={{borderCollapse:'collapse'}}>\n                <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>Name</th>\n                        <th>Description</th>\n                        <th>Quantity</th>\n                        <th>Price</th>\n                        <th>total</th>\n                    </tr>\n                </thead>\n                <tbody>{\n                    data.map((product,i) => {\n                        return (<tr key={i}>\n                            <td>{i+1}</td>\n                            <td>{product.product.name}</td>\n                            <td>{product.product.description}</td>\n                            <td>{product.quantity}</td>\n                            <td>{product.price}</td>\n                            <td>{product.price*product.quantity}</td>\n                        </tr>)\n                    })\n                }\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nfunction printPageArea(areaID){\n    var printContent = document.getElementById(areaID);\n    var WinPrint = window.open('', '', 'width=900,height=650');\n    WinPrint.document.write(printContent.innerHTML);\n    WinPrint.document.close();\n    WinPrint.focus();\n    WinPrint.print();\n    setTimeout(() => {\n        WinPrint.close();\n    }, 2000);\n}\n\nfunction downloadAsPdf(areaID,id){\n    var printContent = document.getElementById(areaID)\n    var opt = {\n        margin:       1,\n        filename:     `invoice-${id}.pdf`,\n        image:        { type: 'jpeg', quality: 1 },\n        html2canvas:  { scale: 4 },\n        jsPDF:        { unit: 'cm', format: 'A4', orientation: 'portrait' }\n    };\n    html2pdf().set(opt).from(printContent).save()\n}\n\nclass BillShow extends React.Component {\n    componentDidMount(){\n        this.props.dispatch(getBillsList())\n    }\n\n    render(){\n        //console.log(this.props.bill)\n        const bill = this.props.bill\n        return (\n            <>\n            <h2>Bills Info</h2>\n                <div className=\"row\" id='bill' style={{marginLeft:'50px'}}>\n                    <div className=\"section\">\n                        { bill && \n                          <><h5><u>{ bill.billId} - {moment(bill.date).format('LLL')}</u></h5>\n                          {bill.customer && (\n                              <div className='billTo'>\n                              <p>To: {bill.customer.name}</p>\n                              <p>email: {bill.customer.email}</p>\n                              <p>Phone: {bill.customer.phone}</p>\n                              <p>Address: {bill.customer.address}</p>\n                            </div>\n                          )}\n                          <p> Description - { bill.description}</p>\n                          <Tabular data={bill.products} />\n                          <br/>\n                          <div className=\"detailContain\">\n                            <p>tax: {bill.tax}% </p>\n                            <p>Other charges: {bill.otherCharges} </p>\n                            <p>Total: {bill.total} </p>\n                            <p>discount: {bill.discount}% </p>\n                            <p>payMode: {bill.payMode} </p>\n                            <p style={{fontWeight:'bold',fontSize:'medium'}}><em>Grand Total:</em> {bill.totalAmount}</p>\n                          </div>\n                          </>\n                        }\n                    </div>\n                </div>\n                <button onClick={() => {\n                    printPageArea('bill')\n                }}>Print</button>\n                <button onClick={() => {downloadAsPdf('bill',bill.billId)}}>Download as pdf</button>\n                <br/>\n                <Link to='/invoices'>Back</Link>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state,props) => {\n    return {\n        bill: state.bills.find(b => b._id===props.match.params.id)\n    }\n}\n\nexport default connect(mapStateToProps)(BillShow)"]},"metadata":{},"sourceType":"module"}